# .github/workflows/notify-private-repo.yml
name: Notify Private Repo on Push
on:
  push:
    branches: [main]
    paths: ['PrinterCargoExService/**']

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Notify private repository
        run: |
          curl -X POST \
            -H "Accept: application/vnd.github.v3+json" \
            -H "Authorization: Bearer ${{ secrets.CEV }}" \
            https://api.github.com/repos/${{ secrets.OWN }}/certum-script/dispatches \
            -d "{\"event_type\":\"public-repo-updated\",\"client_payload\":{\"repository\":\"${{ github.repository }}\",\"ref\":\"${{ github.ref }}\",\"sha\":\"${{ github.sha }}\"}}"
